{"version":3,"file":"Poptip.js","sources":["../../../src/shared/eventBus.ts","../../../src/client/components/Poptip.vue","../../../src/client/components/Poptip.vue?vue&type=template&id=74a56010&lang.js"],"sourcesContent":[null,"<!-- Poptip -->\n\n<template>\n  <div v-if=\"status\" class=\"editable-poptip\" :style=\"{ borderColor }\">\n    <div>\n      <strong>{{ res.code === 0 ? \"Successful！\" : \"Warning! \" }} </strong>\n\n      <span class=\"close-poptip\" @click=\"closePoptip\">x</span>\n    </div>\n    <div v-if=\"res.code !== 0\">\n      <p>\n        message: <code class=\"code\">{{ subMessage(res.message) }}</code>\n      </p>\n\n      <p v-if=\"res.code === 403\">\n        Fork first:\n        <a\n          v-if=\"$themeConfig.repo\"\n          :href=\"'https://github.com/' + $themeConfig.repo\"\n          target=\"_blank\"\n        >\n          {{ $themeConfig.repo }}</a\n        >\n      </p>\n    </div>\n    <div v-else>\n      See:\n      <a :href=\"res.data && res.data.html_url\" target=\"_blank\">\n        Pull Request\n      </a>\n    </div>\n  </div>\n</template>\n<script>\nimport {bus} from \"../../shared/eventBus\";\nexport default {\n  data() {\n    return {\n      borderColor: \"#ddd\",\n      res: {\n        code: 0,\n        data: \"\",\n        message: \"\",\n      },\n      status: false,\n    };\n  },\n  mounted() {\n    bus.$on(\"onClose\", () => {\n      this.status = false;\n    });\n    bus.$on(\"onReceive\", (json = {}, status) => {\n      const { code, data, message } = json;\n      this.res = {\n        code,\n        data,\n        message,\n      };\n\n      this.status = status;\n      if (code === 0) {\n        this.borderColor = \"#3eaf7c\";\n      } else {\n        this.borderColor = \"#eb7350\";\n      }\n    });\n  },\n  methods: {\n    closePoptip() {\n      this.status = false;\n      if (this.res.code !== 0) {\n        location.reload();\n      }\n    },\n    subMessage(str) {\n      return (str || \"\").replace(/^.*: /g, \"\");\n    },\n  },\n};\n</script>\n\n<style scoped>\n.close-poptip {\n  position: relative;\n  float: right;\n  width: 20px;\n  height: 20px;\n  border: 1px solid #3eaf7c;\n  color: #3eaf7c;\n  border-radius: 50%;\n  text-align: center;\n  line-height: 15px;\n  cursor: pointer;\n  z-index: 1;\n}\n.editable-poptip {\n  position: fixed;\n  border: 1px solid #3eaf7c;\n  box-sizing: border-box;\n  background: #fff;\n  width: 360px;\n  bottom: 40px;\n  right: 40px;\n  padding: 20px;\n  z-index: 3;\n}\n.editable-poptip code {\n  color: #476582;\n  padding: 0.25rem 0.5rem;\n  margin: 0;\n  font-size: 0.85em;\n  background-color: rgba(27, 31, 35, 0.05);\n  border-radius: 3px;\n}\n</style>","<!-- Poptip -->\n\n<template>\n  <div v-if=\"status\" class=\"editable-poptip\" :style=\"{ borderColor }\">\n    <div>\n      <strong>{{ res.code === 0 ? \"Successful！\" : \"Warning! \" }} </strong>\n\n      <span class=\"close-poptip\" @click=\"closePoptip\">x</span>\n    </div>\n    <div v-if=\"res.code !== 0\">\n      <p>\n        message: <code class=\"code\">{{ subMessage(res.message) }}</code>\n      </p>\n\n      <p v-if=\"res.code === 403\">\n        Fork first:\n        <a\n          v-if=\"$themeConfig.repo\"\n          :href=\"'https://github.com/' + $themeConfig.repo\"\n          target=\"_blank\"\n        >\n          {{ $themeConfig.repo }}</a\n        >\n      </p>\n    </div>\n    <div v-else>\n      See:\n      <a :href=\"res.data && res.data.html_url\" target=\"_blank\">\n        Pull Request\n      </a>\n    </div>\n  </div>\n</template>\n<script>\nimport {bus} from \"../../shared/eventBus\";\nexport default {\n  data() {\n    return {\n      borderColor: \"#ddd\",\n      res: {\n        code: 0,\n        data: \"\",\n        message: \"\",\n      },\n      status: false,\n    };\n  },\n  mounted() {\n    bus.$on(\"onClose\", () => {\n      this.status = false;\n    });\n    bus.$on(\"onReceive\", (json = {}, status) => {\n      const { code, data, message } = json;\n      this.res = {\n        code,\n        data,\n        message,\n      };\n\n      this.status = status;\n      if (code === 0) {\n        this.borderColor = \"#3eaf7c\";\n      } else {\n        this.borderColor = \"#eb7350\";\n      }\n    });\n  },\n  methods: {\n    closePoptip() {\n      this.status = false;\n      if (this.res.code !== 0) {\n        location.reload();\n      }\n    },\n    subMessage(str) {\n      return (str || \"\").replace(/^.*: /g, \"\");\n    },\n  },\n};\n</script>\n\n<style scoped>\n.close-poptip {\n  position: relative;\n  float: right;\n  width: 20px;\n  height: 20px;\n  border: 1px solid #3eaf7c;\n  color: #3eaf7c;\n  border-radius: 50%;\n  text-align: center;\n  line-height: 15px;\n  cursor: pointer;\n  z-index: 1;\n}\n.editable-poptip {\n  position: fixed;\n  border: 1px solid #3eaf7c;\n  box-sizing: border-box;\n  background: #fff;\n  width: 360px;\n  bottom: 40px;\n  right: 40px;\n  padding: 20px;\n  z-index: 3;\n}\n.editable-poptip code {\n  color: #476582;\n  padding: 0.25rem 0.5rem;\n  margin: 0;\n  font-size: 0.85em;\n  background-color: rgba(27, 31, 35, 0.05);\n  border-radius: 3px;\n}\n</style>"],"names":["_createElementVNode"],"mappings":";;;;AAAA;;;;;AAaA;AACO,MAAM,GAAG,GAAG,IAAI,EAAE;;ACqBzB,aAAe;EACb,IAAI,GAAG;IACL,OAAO;MACL,WAAW,EAAE,MAAM;MACnB,GAAG,EAAE;QACH,IAAI,EAAE,CAAC;QACP,IAAI,EAAE,EAAE;QACR,OAAO,EAAE,EAAE;OACZ;MACD,MAAM,EAAE,KAAK;KACd;GACF;EACD,OAAO,GAAG;IACR,GAAG,CAAC,GAAG,CAAC,SAAS,EAAE,MAAM;MACvB,IAAI,CAAC,SAAS,KAAK;KACpB,CAAC;IACF,GAAG,CAAC,GAAG,CAAC,WAAW,EAAE,CAAC,OAAO,EAAE,EAAE,MAAM,KAAK;MAC1C,MAAM,EAAE,IAAI,EAAE,IAAI,EAAE,YAAY,IAAI;MACpC,IAAI,CAAC,MAAM;QACT,IAAI;QACJ,IAAI;QACJ,OAAO;OACR;;MAED,IAAI,CAAC,SAAS,MAAM;MACpB,IAAI,SAAS,CAAC,EAAE;QACd,IAAI,CAAC,cAAc,SAAS;aACvB;QACL,IAAI,CAAC,cAAc,SAAS;;KAE/B,CAAC;GACH;EACD,OAAO,EAAE;IACP,WAAW,GAAG;MACZ,IAAI,CAAC,SAAS,KAAK;MACnB,IAAI,IAAI,CAAC,GAAG,CAAC,SAAS,CAAC,EAAE;QACvB,QAAQ,CAAC,MAAM,EAAE;;KAEpB;IACD,UAAU,CAAC,GAAG,EAAE;MACd,OAAO,CAAC,OAAO,EAAE,EAAE,OAAO,CAAC,QAAQ,EAAE,EAAE,CAAC;KACzC;GACF;AACH,CAAC;;;gDClEQ;;;;;;gDAeO,QAEV;;;;UAxBO,YAAM;;;QAAE,KAAK,EAAC,iBAAiB;QAAE,KAAK,gCAAI,iBAAW;;;UAE5DA,mDAAW,SAAG,CAAC,IAAI;UAEnBA;YAAM,KAAK,EAAC;;;;SAEH,SAAG,CAAC,IAAI;;cACjBA,mBAEI;;;;;mDAWA;;qBANM;yDAKP;;;0BAHC,MAAM,EAAC,QAAQ;;;;;;;;cAQnBA;;;iCAEA;;;;;;;;;;;;"}